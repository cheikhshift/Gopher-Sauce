<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags always come first -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Go Server - Build RESTFul service</title>
    <!-- Bootstrap CSS -->
<script src="https://use.fontawesome.com/d102afacbe.js"></script>
        <meta name="description" content="Go lang web application markup language. Enjoy agile development with Go!">
<meta name="keywords" content="dev,kit,server,ops,web,framework,test">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="../main.css">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
          <link rel="stylesheet" href="//cdn.jsdelivr.net/jquery.sidr/2.2.1/stylesheets/jquery.sidr.dark.min.css">
  </head>
  <body>

  <div id="sidr">
        <ul>
          <li><a id="simple-menu-two" class="nav-link"  href="#sidr"><i class="fa fa-chevron-left"></i> Collapse</a></li>
          <li><a  href="index.html">Home</a></li>
          <li><a class="active" href="api.html">Build web service</a></li>
          <li><a href="authentication.html">Authentication</a></li>
          <li><a href="awp.html">Dynamic web pages</a></li>
          <li><a href="benchmark-tests.html">Go Benchmark tests</a></li>
          <li><a href="how-run-project.html">How to run</a></li>
          <li><a href="how-to-install.html">How to install</a></li>
          <li><a href="https.html">HTTPS</a></li>
          <li><a href="markup.html">Go Server markup</a></li>
          <li><a href="middleware.html">Middleware</a></li>
          <li><a href="templates.html">Templates</a></li>
          <li><a href="tests.html">Go tests</a></li>
        </ul>
  </div>
    <nav class="navbar navbar-light bg-primary navbar-fixed-top" >
  <button class="navbar-toggler hidden-sm-up" type="button" data-toggle="collapse" data-target="#exCollapsingNavbar2">
    &#9776;
  </button>

   <div class="collapse navbar-toggleable-xs" id="exCollapsingNavbar2">
  
  <ul class="nav navbar-nav">
  
   <li class="nav-item">
      <a id="simple-menu" class="nav-link"  href="#sidr"><i class="fa fa-bars"></i> Menu</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="../"><i class="fa fa-home"></i> Home</a>
    </li>
        <li style="margin-right: 12px;" class="nav-item">
       <a class="nav-link" href="docs/projects.html"><i class="fa fa-user-circle"></i> Projects</a>
    </li>
       <li style="margin-left: 12px;" class="nav-item">
      <a class="nav-link" href="https://github.com/cheikhshift/Gopher-Sauce/wiki"> Wiki</a>
    </li>

     <li style="margin-right: 12px;" class="nav-item">
       <a class="nav-link" href="https://github.com/cheikhshift/Gopher-Sauce"><i class="fa fa-github"></i> Github</a>
    </li>

      <li style="margin-right: 12px;" class="nav-item">
       <a class="nav-link" href="https://www.orkiv.com/project-submission/"><i class="fa fa-building"></i> Enterprise</a>
    </li>

  </ul>
  <div class="form-inline pull-xs-right">
    <a href="#" class="btn btn-warning-outline btn-block" type="submit">Top</a>
  </div> 
</div>
</nav>

  <div class="header-space" style="height:190px;margin-bottom:2em;">
      <div class="cont container">
          <div class="page-header">
              <h1 style="color:#fff" class="tect"><i class="fa fa-book"></i> Build web service</h1>
          </div>
      </div>
  </div>
  <div class="container">
        <div class="list-group list-group-item">
        
        <h2><a id="Build_REST_API_endpoints_0"></a>Build web service</h2>
<p>If a requestâ€™s method and path match a declared endpoint, the declared Go lang code will be ran.</p>
<h3><a id="Attributes_3"></a>Attributes</h3>
<pre><code>path - the path to the api hook within your server</code></pre>
<pre>
<code>InnerXML - Go lang statements ran on endpoint execution</code></pre>
<pre>
<code>
type - This specifies the request method ie: POST,GET,PUT,DELETE, star (to create a new http.handler), f to create interceptive middle ware.
</code></pre>
<p>The example below will declare api end point within the GoS configuration called login. The tag defined will create a rest call : <code>POST /index/api</code></p>
<pre><code class="html golang">&lt;gos&gt;
    ...
    &lt;endpoints&gt;
           &lt;end path=&quot;/index/api&quot; type=&quot;POST&quot; &gt;
                //login function
                response = mResponse(Button{Color:&quot;#fff&quot;})
                fmt.Println(&quot;Login!! -&gt; &quot; + session.Values[&quot;username&quot;].(string))
           &lt;/end&gt;
    &lt;/endpoints&gt;
    ...
&lt;/gos&gt;
This condition will be added as a check prior to the server attempting to find a file matching the request path within the web root : 

if  r.URL.Path == &quot;/index/api&quot; &amp;&amp; r.Method == strings.ToUpper(&quot;POST&quot;) {
    response = mResponse(Button{Color:&quot;#fff&quot;})
    fmt.Println(&quot;Login!! -&gt; &quot; + session.Values[&quot;username&quot;].(string))
}
</code></pre>
<p>The <code>func mResponse</code> will convert an <code>interface{}</code> to a JSON string.</p>
<p>Here are the variables that are available to your api Go code block :</p>
<pre><code>response - String response of api.
session - Current Gorilla session of the request (if applicable). Use the session.Values map to access and save data.
Handy functions :
mResponse - will convert any Go lang interface into a JSON string for output. The example above converts Button into a JSON string for output.
r - http.Request
w - http.ResponseWriter
</code></pre>
<p>Here is a project on building web pages with Go code : <a href="mvc.html">Link</a></p>
   

        </div>
  </div>



  <footer>
    <div class="container">
      <h5 style="float:right;" class="text-muted">&copy 2017 Cheikh Seck</h5>
     
      <ul class="nav nav-inline">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/cheikhshift/Gopher-Sauce"><i class="fa fa-github"></i> Github</a>
        </li>
      </ul>
    </div>
  </footer>
   
    <!-- jQuery first, then Bootstrap JS. -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/js/bootstrap.min.js" integrity="sha384-vZ2WRJMwsjRMW/8U7i6PWi6AlO1L79snBrmgiDpgIWJ82z8eA5lenwvxbMV1PAh7" crossorigin="anonymous"></script>
    <script type="text/javascript" src="../js/okshadow.js"></script>
     <script src="//cdn.jsdelivr.net/jquery.sidr/2.2.1/jquery.sidr.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

    <script type="text/javascript">
        $(function(){
        $('.head').okshadow({color:"rgba(0,0,0,0.4)"});
         $('.tect').okshadow({textShadow:true,color:"rgba(0,0,0,0.4)"});
        });
        $(document).ready(function() {
          $('#simple-menu').sidr();
           $('#simple-menu-two').sidr();
          setTimeout(function(){
          $('#simple-menu').click();
        } , 500 );
        });


         hljs.initHighlightingOnLoad();
    </script>
     <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-71342160-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>
  </body>
</html>

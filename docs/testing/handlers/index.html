<!DOCTYPE html>
<html>
  <head>
    <title>Gopher Sauce v0.6</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.37.1" />
<title>Handlers :: Gopher Sauce v0.6</title>
<link rel="shortcut icon" href="/docs/images/favicon.png" type="image/x-icon" />
<link href="/docs/css/font-awesome.min.css" rel="stylesheet">
<link href="/docs/css/nucleus.css" rel="stylesheet">
<link href="/docs/theme-flex/style.css" rel="stylesheet">

	<link href="/docs/theme-flex/variant-gold.css" rel="stylesheet">

<link rel="stylesheet" href="/docs/css/bootstrap.min.css">
<script src="/docs/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "http:\/\/gophersauce.com\/docs\/";
</script>
<meta name="description" content="Section about testing your project&#39;s end tags.">



    
  </head>
  <body data-url="/docs/testing/handlers/">
    
      <header>
  <div class="logo">
    
	
  
    <a class="baselink" href="http://gophersauce.com/docs/">Gopher Sauce v0.6</a>
  

  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://github.com/cheikhshift/gos"  rel="noopener">
                  <i class='fa fa-github'></i> <label>Github repo</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/cheikhshift/gos/archive/master.zip"  rel="noopener">
                  <i class='fa fa-cloud-download'></i> <label>Download</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://forum.gophersauce.com"  rel="noopener">
                  <i class='fa fa-users'></i> <label>Community</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/docs/" class="dd-item">
          <a href="/docs/">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/docs/workflow/" class="dd-item alwaysopen haschildren
        ">
      <div>
      <a href="/docs/workflow/">Get started</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/docs/workflow/code_gen/" class="dd-item">
        <div>
          <a href="/docs/workflow/code_gen/">
            Project layout
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/docs/workflow/task_mgt/" class="dd-item">
        <div>
          <a href="/docs/workflow/task_mgt/">
            Task management
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/docs/workflow/package_arch/" class="dd-item">
        <div>
          <a href="/docs/workflow/package_arch/">
            Package architecture
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/docs/workflow/library_arch/" class="dd-item">
        <div>
          <a href="/docs/workflow/library_arch/">
            Library architecture
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/docs/workflow/first_project/" class="dd-item">
        <div>
          <a href="/docs/workflow/first_project/">
            First project
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/docs/gxml-abstractions/" class="dd-item alwaysopen haschildren
        ">
      <div>
      <a href="/docs/gxml-abstractions/">GXML</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/docs/gxml-abstractions/shell/" class="dd-item">
        <div>
          <a href="/docs/gxml-abstractions/shell/">
            Build commands
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/docs/gxml-abstractions/structs/" class="dd-item">
        <div>
          <a href="/docs/gxml-abstractions/structs/">
            Data types
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/docs/gxml-abstractions/globals/" class="dd-item">
        <div>
          <a href="/docs/gxml-abstractions/globals/">
            Global variables
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/docs/gxml-abstractions/endpoints/" class="dd-item">
        <div>
          <a href="/docs/gxml-abstractions/endpoints/">
            HTTP 1.1 services
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/docs/gxml-abstractions/init/" class="dd-item">
        <div>
          <a href="/docs/gxml-abstractions/init/">
            Init function
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/docs/gxml-abstractions/main/" class="dd-item">
        <div>
          <a href="/docs/gxml-abstractions/main/">
            Main function
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/docs/gxml-abstractions/methods/" class="dd-item">
        <div>
          <a href="/docs/gxml-abstractions/methods/">
            Methods
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/docs/gxml-abstractions/shutdown/" class="dd-item">
        <div>
          <a href="/docs/gxml-abstractions/shutdown/">
            Shutdown function
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/docs/gxml-abstractions/templates/" class="dd-item">
        <div>
          <a href="/docs/gxml-abstractions/templates/">
            Templates
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/docs/gxml-abstractions/web_root/" class="dd-item">
        <div>
          <a href="/docs/gxml-abstractions/web_root/">
            Web root
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/docs/testing/" class="dd-item parent alwaysopen haschildren
        ">
      <div>
      <a href="/docs/testing/">Testing</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/docs/testing/globals/" class="dd-item">
        <div>
          <a href="/docs/testing/globals/">
            Globals
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/docs/testing/handlers/" class="dd-item active">
        <div>
          <a href="/docs/testing/handlers/">
            Handlers
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/docs/testing/templates/" class="dd-item">
        <div>
          <a href="/docs/testing/templates/">
            Templates
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/docs/deploying/" class="dd-item
        ">
      <div>
      <a href="/docs/deploying/">Deployments</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/docs/tooling/" class="dd-item
        ">
      <div>
      <a href="/docs/tooling/">Tools</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/docs/resources/" class="dd-item
        ">
      <div>
      <a href="/docs/resources/">Resources</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>




    </ul>
    <section>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/docs/workflow/" >
   Get started</option> 
      <option value="/docs/workflow/code_gen/" >- Project layout</option>
      <option value="/docs/workflow/task_mgt/" >- Task management</option>
      <option value="/docs/workflow/package_arch/" >- Package architecture</option>
      <option value="/docs/workflow/library_arch/" >- Library architecture</option>
      <option value="/docs/workflow/first_project/" >- First project</option>
  
    <option value="/docs/gxml-abstractions/" >
   GXML</option> 
      <option value="/docs/gxml-abstractions/shell/" >- Build commands</option>
      <option value="/docs/gxml-abstractions/structs/" >- Data types</option>
      <option value="/docs/gxml-abstractions/globals/" >- Global variables</option>
      <option value="/docs/gxml-abstractions/endpoints/" >- HTTP 1.1 services</option>
      <option value="/docs/gxml-abstractions/init/" >- Init function</option>
      <option value="/docs/gxml-abstractions/main/" >- Main function</option>
      <option value="/docs/gxml-abstractions/methods/" >- Methods</option>
      <option value="/docs/gxml-abstractions/shutdown/" >- Shutdown function</option>
      <option value="/docs/gxml-abstractions/templates/" >- Templates</option>
      <option value="/docs/gxml-abstractions/web_root/" >- Web root</option>
  
    <option value="/docs/testing/" >
   Testing</option> 
      <option value="/docs/testing/globals/" >- Globals</option>
      <option value="/docs/testing/handlers/"  selected>- Handlers</option>
      <option value="/docs/testing/templates/" >- Templates</option>
  
    <option value="/docs/deploying/" >
   Deployments</option>
    <option value="/docs/tooling/" >
   Tools</option>
    <option value="/docs/resources/" >
   Resources</option>



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="/docs/js/lunr.min.js"></script>
        <script type="text/javascript" src="/docs/js/auto-complete.js"></script>
        <link href="/docs/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "http:\/\/gophersauce.com\/docs\/";
          
        </script>
        <script type="text/javascript" src="/docs/js/search.js"></script>
      </div>
    

    <h1>Handlers</h1>
    
    
    
    

<h2 id="how-to-test">How to test</h2>

<p>Handlers can be tested with <code>gos</code> sub-level package <code>onyx</code>. <code>onyx</code> provides functions to create new HTTP requests as well as execute a handler and determine test result.</p>

<h3 id="avoid-direct-handler-tests">Avoid direct handler tests</h3>

<p><code>gos</code> generates two versions of your HTTP handler functions, one for development and one for production. To ensure your tests never break, use your handlers&rsquo; package function <code>MakeHandler</code> to keep your tests from breaking.</p>

<h3 id="sample-test">Sample test</h3>

<p>Below is source code using onyx to test an HTTP handler. Notice how <code>MakeHandler</code> is the handler, while the test name is different.</p>

<pre><code>package handlers

import &quot;testing&quot;

import &quot;github.com/cheikhshift/gos/onyx&quot;

// Camel case version of method + request path,
// without slashes,
// prefixed with `Test`
func TestGETIndex(t *testing.T) {
	
	// Load all handlers.
	h := MakeHandler(Handler)

	// New request to GET /index
	req,err := onyx.NewRequest(&quot;GET&quot;, &quot;/index&quot;)

	if err != nil {
		panic(err)
	}

	// execute, fail test if code
	// is not 200.
	onyx.Handle(req, h, t)
}
</code></pre>


    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/docs/testing/globals/" title="Globals"> <i class="fa fa-chevron-left"></i><label>Globals</label></a>
    <a class="nav nav-next" href="/docs/testing/templates/" title="Templates" style="margin-right: 0px;"><label>Templates</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

    

    
    <div class="github-link">
      <a href="https://github.com/vjeantet/hugo-theme-docdock/edit/master/exampleSite/content/testing/handlers.md" target="blank"><i class="fa fa-code-fork"></i>
        Improve this page</a>
    </div>
    
  </div>


	<div>


  
    <style type="text/css">
    #navigation a {
        color: #847f7f;
    }
</style>

<p><p style="float:right;position: relative;top:10px;">Written by Cheikh Seck, Built with Hugo</p>
<a target="_blank" href="https://twitter.com/gophersauce"><img src="https://pbs.twimg.com/profile_images/976861571707219969/fauId6s2_400x400.jpg" height="40" /></a>
<a target="_blank" href="https://github.com/thestrukture/IDE" title="GET IDE"><img src="https://avatars1.githubusercontent.com/u/17010896?s=200&v=4" height="40" style="position: relative;top:4px;" /></a></p>

<script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-71342160-1");
        pageTracker._trackPageview();
    } catch (err) {}
</script>

  



	</div>
</footer>

<script src="/docs/js/clipboard.min.js"></script>

<link href="/docs/css/featherlight.min.css" rel="stylesheet">
<script src="/docs/js/featherlight.min.js"></script>



<script src="/docs/theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>
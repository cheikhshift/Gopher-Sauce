<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags always come first -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>GopherSauce - Build a webservice with gophersauce</title>
    <!-- Bootstrap CSS -->
<script src="https://use.fontawesome.com/d102afacbe.js"></script>


   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">

    <link rel="stylesheet" type="text/css" href="../main.css">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
          <link rel="stylesheet" href="//cdn.jsdelivr.net/jquery.sidr/2.2.1/stylesheets/jquery.sidr.dark.min.css">
  </head>
  <body>

   
     <nav class="navbar navbar-light navbar-expand-lg  navbar-dark bg-primary fixed-top" >
 <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#exCollapsingNavbar2" aria-controls="exCollapsingNavbar2" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

    <div class="collapse navbar-collapse" id="exCollapsingNavbar2">
  
  <ul class="nav navbar-nav">

    <li class="nav-item">
      <a class="nav-link" href="../"><i class="fa fa-home"></i> Home</a>
    </li>
        <li style="margin-right: 12px;" class="nav-item">
       <a class="nav-link" href="docs/projects.html"><i class="fa fa-user-circle"></i> Projects</a>
    </li>
    <li style="margin-right: 12px;" class="nav-item">
       <a class="nav-link" href="index.html"><i class="fa fa-book"></i> Docs</a>
    </li>
   

     <li style="margin-right: 12px;" class="nav-item">
       <a class="nav-link" href="https://github.com/cheikhshift/Gopher-Sauce"><i class="fa fa-github"></i> Github</a>
    </li>

  
  </ul>
  <div class="form-inline pull-xs-right">
       <a href="#" class="btn btn-info btn-block" role="button">Top</a>
  </div> 
</div>
</nav>

  <div class="header-space" style="height:190px;margin-bottom:2em;">
      <div class="cont container">
          <div class="page-header">
              <h1 style="color:#fff" class="tect">Build a webservice with GopherSauce</h1>
          </div>
      </div>
  </div>
  <div class="container">
        <div class="list-group list-group-item">
            
<p> This service will store an <code>int</code> in memory and increase it on each request.</p>


<h2 id="startproject">Start project</h2>

<pre><code>$ mkdir new-project
cd new-project
gos --make
</code></pre>

<h2 id="createservice">Create service</h2>

<p>Create a new <code>service.go</code> file in your project directory. </p>

<h3 id="addthefollowinglinestoservicego">Add the following lines to <code>service.go</code></h3>

<ol>
<li><p>Declare package :</p>

<pre><code>package main 
</code></pre></li>

<li><p>Declare static <code>int</code> :</p>

<pre><code>var Counter = 0
</code></pre></li>

<li><p>Declare <code>increase</code> function :</p>

<pre><code>func Increase(){
Counter++
}
</code></pre></li>
</ol>

<h2 id="linkgoservicetointernet">Link Go service to internet     ðŸ•¶</h2>

<ol>
<li><p>Open your <code>gos.gxml</code> file.</p></li>

<li><p>Add this end(point) tag within your <code>endpoints</code> tag.</p>

<pre><code>&lt;end path="/service" type="GET" &gt;&lt;/end&gt;
</code></pre></li>

<li><p>Call the increase function within your <code>end</code> tag.</p>

<pre><code>Increase()
</code></pre></li>

<li><p>Set content type :</p>

<pre><code>w.Header().Set("Content-Type",  "text/html")
</code></pre></li>

<li><p>Display the current value of the counter :</p>

<pre><code>w.Write([]byte(fmt.Sprintf("This is the %v request", Counter) ))
</code></pre></li>
</ol>

<h2 id="notes">Notes</h2>

<ul>
<li>Within <code>end</code> tags the variables r &amp; w are available by default. <code>r</code> is the standard Go <code>*http.Request</code> ( More <a href="https://golang.org/pkg/net/http/#Request">info</a> ). <code>w</code> is the standard Go <code>http.ResponeWriter</code> ( More <a href="https://golang.org/pkg/net/http/#ResponseWriter">info</a> )</li>
</ul>

<h2 id="testservice">Test service</h2>

<p>Run <code>gos --run</code> and visit : <a href="localhost:8080/service">localhost:8080/service</a>    </p>

        </div>
  </div>



  <footer>
    <div class="container">
      <h5 style="float:right;" class="text-muted">&copy 2017 Cheikh Seck</h5>
     
      <ul class="nav nav-inline">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/cheikhshift/Gopher-Sauce"><i class="fa fa-github"></i> Github</a>
        </li>
      </ul>
    </div>
  </footer>
    
    <!-- jQuery first, then Bootstrap JS. -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>  
    <script type="text/javascript" src="../js/okshadow.js"></script>
     <script src="//cdn.jsdelivr.net/jquery.sidr/2.2.1/jquery.sidr.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

    <script type="text/javascript">
        $(function(){
        $('.head').okshadow({color:"rgba(0,0,0,0.4)"});
         $('.tect').okshadow({textShadow:true,color:"rgba(0,0,0,0.4)"});
        });
        
         hljs.initHighlightingOnLoad();
    </script>
     <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-71342160-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>
  </body>
</html>
